<!-- index.html -->
<!DOCTYPE html>
<html lang="fr">
<head>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.4/dist/leaflet.css" integrity="sha256-p4NxAoJBhIIN+hmNHrzRCf9tD/miZyoHS5obTRR9BMY=" crossorigin="" />
  <script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js" integrity="sha256-20nQCchB9co0qIjJZRGuk2/Z9VM+kNiyxNV1lvTlZBo=" crossorigin=""></script>
  <meta charset="UTF-8">
  <title>Exploration G25 M√©di√©vale</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
</head>
<body class="bg-gray-50 text-gray-800 font-sans">

  <header class="bg-blue-800 text-white py-6 text-center">
    <h1 class="text-3xl font-bold">JCSL : Profil G25 ‚Äì P√©riode M√©di√©vale Ancienne</h1>
      <img src="https://i.imgur.com/EBSwSnA.jpeg" alt="Image G√©n√©alogique" class="mx-auto mt-4 rounded shadow max-h-[600px] w-auto">  
    <!-- https://drive.google.com/uc?export=view&id=1uTS00IEoCi0SPTG-TnC-MNQv8JihuE46 --> 
    <p class="text-sm">Donn√©es g√©n√©tiques interpr√©t√©es</p>
  </header>

  <main class="max-w-6xl mx-auto p-6">
    <section class="mb-12">
      <h2 class="text-xl font-semibold mb-4 text-blue-700">Graphique des Composantes</h2>
      <div class="bg-white p-4 rounded shadow">
        <canvas id="g25Chart" class="w-full h-96"></canvas>
      </div>
    </section>

    <section>
      <h2 class="text-xl font-semibold mb-4 text-blue-700">Interpr√©tation des Composantes</h2>
      <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
        <ul id="componentList" class="space-y-2"></ul>
        <div id="detailsPanel" class="bg-white p-4 rounded shadow text-sm leading-relaxed overflow-y-auto h-96 border border-blue-100">
          <p class="text-gray-500">Cliquez sur une composante pour voir l'interpr√©tation.</p>
        </div>
      </div>
    </section>
<section class="mt-16">
  <h2 class="text-xl font-semibold mb-4 text-blue-700">Vos Haplogroupes ADN-Y et ADNmt</h2>
  <div class="overflow-x-auto bg-white p-4 rounded shadow">
    <table class="min-w-full text-sm text-left border border-gray-200">
      <thead class="bg-blue-100 text-blue-800">
        <tr>
          <th class="py-2 px-3">Haplogroupe</th>
          <th class="py-2 px-3">Type</th>
          <th class="py-2 px-3">√Çge Estim√©</th>
          <th class="py-2 px-3">Origine G√©ographique</th>
          <th class="py-2 px-3">Interpr√©tation</th>
        </tr>
      </thead>
      <tbody class="divide-y divide-gray-100">
        <tr>
          <td class="py-2 px-3 font-medium"><B>R1b-L238</B></td>
          <td class="py-2 px-3">Y-ADN</td>
          <td class="py-2 px-3">Antiquit√©</td>
          <td class="py-2 px-3">Europe occidentale / Scandinavie</td>
          <td class="py-2 px-3">Lign√©e paternelle commune en Europe ; li√©e aux migrations germaniques et vikings vers l‚ÄôAngleterre, l‚ÄôIrlande, l‚ÄôAllemagne et le Danemark.</td>
        </tr>
        <tr>
          <td class="py-2 px-3 font-medium"><B>R-FT10034</B></td>
          <td class="py-2 px-3">Y-ADN</td>
          <td class="py-2 px-3">~1 av. notre √®re</td>
          <td class="py-2 px-3">Angleterre / Martinique</td>
          <td class="py-2 px-3">Lign√©e r√©cente ayant migr√©/colonis√© des √Æles Britanniques vers les Cara√Øbes, pr√©sente en Martinique ; int√©gration coloniale europ√©enne.</td>
        </tr>
        <tr>
          <td class="py-2 px-3 font-medium"><B>K2a5e</B></td>
          <td class="py-2 px-3">ADNmt</td>
          <td class="py-2 px-3">~150 av. notre √®re</td>
          <td class="py-2 px-3">Su√®de / Allemagne</td>
          <td class="py-2 px-3">Lign√©e maternelle li√©e √† l‚ÄôEurope du Nord, en lien avec vos composantes G25 germaniques et vikings.</td>
        </tr>
        <tr>
          <td class="py-2 px-3 font-medium"><B>K2a5</B> (parent)</td>
          <td class="py-2 px-3">ADNmt</td>
          <td class="py-2 px-3">~2400 av. notre √®re</td>
          <td class="py-2 px-3">Europe large (France, Portugal, Russie)</td>
          <td class="py-2 px-3">Lign√©e maternelle europ√©enne √©tendue, pr√©sente en France et Angleterre.</td>
        </tr>
        <tr>
          <td class="py-2 px-3 font-medium"><B>K</B> (parent)</td>
          <td class="py-2 px-3">ADNmt</td>
          <td class="py-2 px-3">~26 000 ‚Äì 30 000 ans</td>
          <td class="py-2 px-3">Proche-Orient</td>
          <td class="py-2 px-3">Origine pr√©historique proche-orientale, li√©e √† l‚Äôexpansion n√©olithique vers l‚ÄôEurope.</td>
        </tr>
      </tbody>
    </table>
  </div>
  <br>
<h2 class="text-xl font-semibold mb-4 text-blue-700">Carte des R√©gions d'Origine G25</h2>
<div class="mb-4 flex justify-end">
  <label class="mr-2 text-sm text-gray-700">Filtrer par % :</label>
  <select id="g25Filter" class="text-sm border rounded px-2 py-1 shadow-sm">
    <option value="all">Tous</option>
    <option value="gt10">> 10%</option>
    <option value="btw5_10">5‚Äì10%</option>
    <option value="lt5">< 5%</option>
  </select>
</div>

  <div id="g25Map" class="w-full h-[600px] rounded shadow border border-gray-300"></div>
</section>
<section id="tapisserie" class="tab-content bg-white p-6 rounded-lg shadow">
  <h2 class="text-3xl font-bold text-blue-800 mb-6">Une Tapisserie ancestrale : Interpr√©tation de vos r√©sultats G25 et Haplogroupes</h2>

  <nav class="mb-8 p-4 bg-slate-50 border border-slate-200 rounded">
    <h3 class="text-lg font-semibold text-blue-700 mb-2">Table des mati√®res</h3>
    <ul class="list-disc list-inside space-y-1 text-sm text-blue-800">
      <li><a href="#tapisserie-intro" class="hover:underline">I. Introduction</a></li>
      <li><a href="#tapisserie-g25" class="hover:underline">II. R√©sultats G25</a></li>
      <li><a href="#tapisserie-y" class="hover:underline">III. Lign√©e Paternelle</a></li>
      <li><a href="#tapisserie-mt" class="hover:underline">IV. Lign√©e Maternelle</a></li>
      <li><a href="#tapisserie-synthese" class="hover:underline">V. Synth√®se</a></li>
      <li><a href="#tapisserie-conclusion" class="hover:underline">VI. Conclusion</a></li>
    </ul>
  </nav>

  <article class="prose lg:prose-md max-w-none prose-blue">
    <h3 id="tapisserie-intro"><B>I. Introduction : D√©voiler votre r√©cit Ancestral</B></h3>
    <p>
    Composante africaine moderne (proxi SSA) 19,6 %<br><br>
        ‚Ä¢ Comme attendu, ce pourcentage refl√®te l‚Äôascendance africaine r√©cente issue de la traite transatlantique (XVI·µâ‚ÄìXIX·µâ si√®cle), absente des bases m√©di√©vales.<br>
        ‚Ä¢ Cela correspond tr√®s probablement √† des anc√™tres originaires de l'Afrique de l‚ÄôOuest (B√©nin, Ghana, Nigeria, Angola, etc.), majoritaires dans les apports africains vers les Antilles et la Guyane.
    </p>
  <div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>
    <h3 id="tapisserie-g25"><B>II. D√©cryptage de vos r√©sultats G25 de la p√©riode M√©di√©vale Ancienne</B></h3>
    <!-- <blockquote class="border-l-4 border-blue-300 pl-4 italic text-sm">Le G25 est un calculateur d'admixture g√©n√©tique...</blockquote><br> -->
    <h4>Composantes europ√©ennes m√©di√©vales (80,4 %) ‚Äì Analyse r√©gion par r√©gion</h4><br>
    <h4><B>A. Le C≈ìur Ib√©rique : Espagne M√©di√©vale (17,0 %)</B></h4><br>
    <p>
      √âchantillon <B>I10897</B> : R√©gion ib√©rique ‚Äì √©poque chr√©tienne m√©di√©vale.<br>
        ‚Ä¢  ou au peuplement hispanique pr√©coce.<br>
        ‚Ä¢ ‚ö†Ô∏è Bien que vous soyez antillais/guyanais, une influence hispanique coloniale indirecte (par √©changes, migrations secondaires) peut expliquer ce r√©sultat.
    </p>

<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>B. Connexions Insulaires : Irlande m√©di√©vale. (8,6 %)</B></h4><br>
    <p>
    √âchantillon <B>KIL030.A</B> :<br>  
      ‚Ä¢ Cela sugg√®re une forte contribution ib√©rique, possiblement li√©e √† l‚Äô√©poque coloniale espagnole (mythe de la Grande Armada, tr√®s peu probable dans mon cas)<br>
      ‚Ä¢ √âchantillon normando-saxon irlandais (<B>Kilteasheen</B>).<br>
      ‚Ä¢ Cela colle parfaitement √† vos haplogroupes R-L238 / R-FT10034, pr√©sents chez les Anglo-Normands, Saxons et Scandinaves.<br>
      ‚Ä¢ Trace potentielle d‚Äôanc√™tres d‚Äôorigine anglo-irlandaise, normande, voire viking tardif.<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>C. Albanie m√©di√©vale (9,6 %)</B></h4><br>
    <p>
      √âchantillon <B>I14622</B>.<br>
      ‚Ä¢ Peu attendu. Ce signal pourrait refl√©ter :<br>
        ‚ó¶ Une composante balkanique secondaire pr√©sente dans les Europ√©ens du Sud (Espagnols ou Italiens)<br>
        ‚ó¶ Une proximit√© avec des Juifs s√©pharades ou levantins dans les √©chantillons (voir plus bas)<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>D. Italie / Sardaigne m√©di√©vales (7,0 % + 0,8 %)</B></h4><br>
    <p>
    ‚Ä¢ Pr√©sence de Sardes m√©di√©vaux et n√©olithiques tardifs.<br>
    ‚Ä¢ Refl√®te peut-√™tre l‚Äôancien substrat m√©diterran√©en n√©olithique associ√© √† votre lign√©e maternelle K2a5e.<br>
    </p>
    <div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>E. Connexions Insulaires : Angleterre m√©di√©vale (6,2‚Äì6,8‚Äì5,2‚Äì1,0 %)</B></h4><br>
    <p>
    ‚Ä¢ Multiples √©chantillons saxons et anglo-saxons.<br>
    ‚Ä¢ Cela renforce fortement l'hypoth√®se d‚Äôun h√©ritage scandinave/germanique occidental, en coh√©rence totale avec R1b-P312 > R-L238.<br>
    ‚Ä¢ Probable h√©ritage par voie paternelle (ADN-Y), introduit dans les Am√©riques via des colons/militaires ou marchands europ√©ens (XVII‚ÄìXIXe si√®cles).<br>
    </p>
    <div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>F. Allemagne / Danemark m√©di√©vaux saxons (~7 %)</B></h4><br>
    <p>
    ‚Ä¢ √âchantillons saxons allemands et danois.<br>
    ‚Ä¢ Compl√®tent le bloc anglo-saxon du nord de l‚ÄôEurope.<br>
    ‚Ä¢ Appuient une origine g√©n√©tique germano-scandinave, typique de certains porteurs de R1b-L238.<br>
    </p>
    <div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>G. √âchos M√©diterran√©ens et Levantins :</B><br>
           Liban m√©di√©val (5,2 %)</h4><br>
    <p>
    ‚Ä¢ √âtonnant mais pas incoh√©rent. (ADNmt K2a5e)<br>
    ‚Ä¢ Peut refl√©ter :<br>
        ‚ó¶ Anc√™tres juifs (ashk√©nazes ou s√©pharades)<br>
        ‚ó¶ Influence levantine secondaire dans le sud de l'Europe (Italie, Espagne, Balkans)<br>
    </p>
    <div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h4><B>H. Fils d'Europe du Nord et de l'Est :</B><br>
           Estonie m√©di√©vale (4,6 %)</h4><br>
    <p>
    ‚Ä¢ Composante balte ou finno-ougrienne.<br>
    ‚Ä¢ Peut d√©river de contacts nordiques / scandinaves, compatibles avec votre ADN-Y.<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h3 id="tapisserie-y"><B>III. Votre Lign√©e Paternelle : Haplogroupe Y R1b-L238 terminal R-FT10034</B></h3>
    <h4><B>Ces sous-clades du macro-haplogroupe R1b sont rares et sp√©cifiques :</B></h4>
    <p>
    ‚Ä¢ <B>R-L238</B> :<br>
        ‚ó¶ Branch√© sur <B>R1b-P312</B>, trouv√© principalement dans le nord de l‚ÄôEurope (Scandinavie, Allemagne, √éles britanniques)<br>
        ‚ó¶ Rare mais d√©tect√© en Su√®de, Islande, Norv√®ge (√¢ge du bronze ‚Üí m√©di√©val)<br>
    ‚Ä¢ <B>R-FT10034</B> :<br>
        ‚ó¶ Sous-clade r√©cente (~1000‚Äì2000 ans), peu document√©e, souvent associ√©e √† des g√©n√©alogies anglo-saxonnes<br>
        ‚ó¶ Peut r√©sulter de la diffusion viking ou post-viking, ou des migrations europ√©ennes vers les Am√©riques<br>
    üìå Conclusion partielle : Votre lign√©e paternelle est d‚Äôorigine nord-europ√©enne (probablement scandinave). Ce profil est atypique dans les populations antillaises, sugg√©rant un apport g√©n√©tique masculin europ√©en distinct, peut-√™tre colonial, commer√ßant ou militaire.<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h3 id="tapisserie-mt"><B>IV. Votre Lign√©e Maternelle :</B></h3>
    <h4>üîπ Haplogroupe mitochondrial, lign√©e maternelle transmise uniquement par les m√®res : <B>K2a5e</B></h4>
    <p>
        ‚ó¶ Sous-clade du haplogroupe K, lui-m√™me d√©riv√© de <B>U8b</B>, souvent associ√©e √† l‚Äôexpansion n√©olithique en Europe<br>
        ‚ó¶ Distribution en Europe du Sud et de l‚ÄôEst, parfois trouv√©e dans des contextes juifs ashk√©nazes et levantins<br>
        ‚ó¶ Enregistr√©e dans des profils anciens europ√©ens d√®s le N√©olithique tardif et au Moyen √Çge<br>
    üìå Conclusion partielle : Votre lign√©e maternelle pourrait provenir d‚ÄôEurope du Sud-Est ou Centrale, voire d‚Äôun foyer n√©olithique ancien.<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h3 id="tapisserie-synthese"><B>V. üß© Synth√®se du profil g√©n√©tique ancien (m√©di√©val)</B></h3>
    <h4>üåç R√©partition estim√©e (approximative sur base des sources  ¬´ top ¬ª)</h4><br>
    <p>
    ‚Ä¢ Afrique de l‚ÄôOuest (moderne, proxi SSA) : ~20 %<br>
    ‚Ä¢ Europe ib√©rique (Espagne) : ~17 %<br>
    ‚Ä¢ Europe anglo-germano-scandinave (Irlande, Angleterre, Allemagne, Danemark) : ~30 %<br>
    ‚Ä¢ Europe du Sud-Est et M√©diterran√©e (Italie, Albanie, Liban) : ~27 %<br>
    ‚Ä¢ Europe balte / Estonie : ~5‚Äì6 %<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>

    <h3 id="tapisserie-conclusion"><B>VI. üß≠ Conclusion interpr√©tative</B></h3>
    <h4>Vous √™tes le produit d‚Äôun m√©tissage complexe entre :</h4><br>
    <p>
    ‚Ä¢ Une lign√©e paternelle d‚ÄôEurope du Nord-Ouest (probablement anglo-saxonne ou scandinave)<br>
    ‚Ä¢ Une lign√©e maternelle m√©diterran√©enne / sud-est europ√©enne<br>
    ‚Ä¢ Un h√©ritage moderne africain li√© √† la traite transatlantique<br>
    Vos anc√™tres ont probablement contribu√© aux populations coloniales ou cr√©oles dans les Antilles et la Guyane, et votre profil g√©n√©tique refl√®te les trajectoires crois√©es de l‚ÄôEurope m√©di√©vale, de l‚ÄôAfrique moderne et des Am√©riques coloniales.<br>
    </p>
<div class="mt-4 text-right"><a href="#tapisserie" class="text-sm text-blue-600 hover:underline">‚Ü• Revenir en haut</a></div>
  </article>
</section>

<a class="nav-link py-2 px-3 hover:bg-sky-700 rounded-md transition-colors duration-200" data-tab="tapisserie">Tapisserie Ancestrale</a>

 </main>

  <script>
    const g25Data = [
      { name: "Spain_Medieval:I10897", percent: 17.0, details_id: "spain" },
      { name: "Albania_Medieval:I14622", percent: 9.6, details_id: "albania" },
      { name: "Ireland_Kilteasheen...", percent: 8.6, details_id: "ireland" },
      { name: "Italy_Sardinia_Early...", percent: 7.0, details_id: "sardinia_early" },
      { name: "England_EarlyMedieval:I11581", percent: 6.8, details_id: "england1" },
      { name: "England_EarlyMedieval_Saxon:I20672", percent: 6.2, details_id: "england_saxon1" },
      { name: "England_EarlyMedieval:I11571", percent: 5.2, details_id: "england2" },
      { name: "Lebanon_Medieval...", percent: 5.2, details_id: "lebanon" },
      { name: "Estonia_Medieval...", percent: 4.6, details_id: "estonia" },
      { name: "Germany_EarlyMedieval...", percent: 4.6, details_id: "germany1" },
      { name: "Denmark_Zealand_Saxon...", percent: 2.2, details_id: "denmark1" },
      { name: "England_EarlyMedieval_Saxon:I20607", percent: 1.0, details_id: "england_saxon2" },
      { name: "Italy_Sardinia_Medieval:SNN002", percent: 0.8, details_id: "sardinia2" },
      { name: "Russia_Kusnarenkovo...", percent: 0.8, details_id: "russia" },
      { name: "Denmark_Zealand_Saxon...", percent: 0.4, details_id: "denmark2" },
      { name: "Germany_Drantum_Saxon...", percent: 0.2, details_id: "germany2" },
      { name: "Ukraine_Medieval...", percent: 0.2, details_id: "ukraine" }
    ];

    const g25Details = {
      spain: `<strong>Espagne M√©di√©vale :</strong> 17% ‚Äì Pr√©sence dans la p√©ninsule Ib√©rique durant la Reconquista, avec influences wisigothiques, musulmanes et juives.`,
      ireland: `<strong>Irlande (Kilteasheen) :</strong> 8.6% ‚Äì Migrations anglo-normandes et vikings, influence anglo-saxonne int√©gr√©e.`,
      albania: `<strong>Albanie M√©di√©vale :</strong> 9.6% ‚Äì Carrefours d'influences romaines, byzantines, slaves, ottomanes.`,
      sardinia_early: `<strong>Sardaigne (D√©but M√©di√©val) :</strong> 7% ‚Äì Traces ph√©niciennes, puniques, romaines.`,
      sardinia2: `<strong>Sardaigne (M√©di√©val) :</strong> 0.8% ‚Äì Flux migratoires continus vers l‚Äô√Æle au Moyen √Çge.`,
      england1: `<strong>Angleterre D√©but M√©di√©val :</strong> 6.8% ‚Äì Royaumes anglo-saxons, christianisation, invasions vikings.`,
      england_saxon1: `<strong>Angleterre Saxon :</strong> 6.2% ‚Äì Ascendance germanique de migrants saxons.`,
      england2: `<strong>Angleterre D√©but M√©di√©val :</strong> 5.2% ‚Äì Voir ci-dessus.`,
      england_saxon2: `<strong>Angleterre Saxon :</strong> 1% ‚Äì Petite trace saxonne renfor√ßant l'h√©ritage britannique.`,
      lebanon: `<strong>Liban M√©di√©val :</strong> 5.2% ‚Äì √âtats crois√©s, commerce levantin, interactions byzantines.`,
      estonia: `<strong>Estonie M√©di√©vale :</strong> 4.6% ‚Äì Mouvements de populations en Europe du Nord-Est.`,
      germany1: `<strong>Allemagne M√©di√©vale :</strong> 4.6% ‚Äì Migrations germaniques, Ostsiedlung.`,
      germany2: `<strong>Allemagne Drantum Saxon :</strong> 0.2% ‚Äì Trace d‚Äôascendance saxonne.`,
      denmark1: `<strong>Danemark Z√©lande Saxon :</strong> 2.2% ‚Äì Migrations vikings et saxonnes vers l‚ÄôAngleterre.`,
      denmark2: `<strong>Danemark Z√©lande Saxon :</strong> 0.4% ‚Äì Petite composante danoise/germanique.`,
      russia: `<strong>Russie M√©di√©vale :</strong> 0.8% ‚Äì Influence des Var√®gues (Vikings).`,
      ukraine: `<strong>Ukraine M√©di√©vale :</strong> 0.2% ‚Äì Liens indirects √† la diaspora viking.`
    };

    const ctx = document.getElementById('g25Chart').getContext('2d');
    const chart = new Chart(ctx, {
      type: 'bar',
      data: {
        labels: g25Data.map(e => `${e.name} (${e.percent}%)`),
        datasets: [{
          label: "Pourcentage",
          data: g25Data.map(e => e.percent),
          backgroundColor: '#60a5fa'
        }]
      },
      options: {
        indexAxis: 'y',
        responsive: true,
        plugins: {
          legend: { display: false },
          tooltip: { enabled: true }
        },
        scales: {
          x: {
            beginAtZero: true,
            title: { display: true, text: "Pourcentage (%)" }
          }
        },
        onClick: (e, elements) => {
          if (elements.length > 0) {
            const idx = elements[0].index;
            const key = g25Data[idx].details_id;
            document.getElementById('detailsPanel').innerHTML = g25Details[key] || "Interpr√©tation non disponible.";
          }
        }
      }
    });

    const listContainer = document.getElementById('componentList');
    g25Data.forEach((d, i) => {
      const li = document.createElement('li');
      li.innerHTML = `<button class="text-left w-full px-3 py-2 bg-blue-50 hover:bg-blue-100 rounded" onclick="document.getElementById('detailsPanel').innerHTML = g25Details['${d.details_id}'] || 'Interpr√©tation non disponible.'">${d.name} (${d.percent}%)</button>`;
      listContainer.appendChild(li);
    });

  const g25Map = L.map('g25Map').setView([45, 10], 3); // Europe-centered
const legend = L.control({ position: 'bottomright' });

legend.onAdd = function () {
  const div = L.DomUtil.create('div', 'bg-white p-3 text-xs rounded shadow border border-gray-300 space-y-1');
  div.innerHTML += '<strong>Pourcentage G25</strong><br>';
  div.innerHTML += '<div><span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-2" style="width:8px; height:8px;"></span> 0‚Äì2%</div>';
  div.innerHTML += '<div><span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-2" style="width:12px; height:12px;"></span> 3‚Äì6%</div>';
  div.innerHTML += '<div><span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-2" style="width:16px; height:16px;"></span> 7‚Äì10%</div>';
  div.innerHTML += '<div><span class="inline-block w-3 h-3 rounded-full bg-blue-500 mr-2" style="width:20px; height:20px;"></span> >10%</div>';
  return div;
};

legend.addTo(g25Map);


  L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
    attribution: '&copy; OpenStreetMap contributors'
  }).addTo(g25Map);

  const g25GeoData = [
    { name: "Espagne M√©di√©vale I10897", lat: 42.1, lon: 2.9, percent: 17.0 },
    { name: "Irlande Kilteasheen KIL030.A", lat: 54.0, lon: -8.2, percent: 8.6 },
    { name: "Albanie I14622", lat: 41.3, lon: 19.6, percent: 9.6 },
    { name: "Angleterre I11581 & I11571", lat: 50.6, lon: -2.0, percent: 12.0 },
    { name: "Angleterre Saxon I20672", lat: 54.2, lon: -0.6, percent: 6.2 },
    { name: "Angleterre Saxon I20607", lat: 50.8, lon: -0.8, percent: 1.0 },
    { name: "Sardaigne COR002", lat: 40.5, lon: 8.6, percent: 7.0 },
    { name: "Sardaigne SNN002", lat: 40.7, lon: 8.6, percent: 0.8 },
    { name: "Liban SI-41", lat: 33.6, lon: 35.4, percent: 5.2 },
    { name: "Estonie S19_IIa_1", lat: 58.5, lon: 22.7, percent: 4.6 },
    { name: "Allemagne STR228", lat: 48.9, lon: 12.6, percent: 4.6 },
    { name: "Allemagne Saxon DRU001", lat: 52.8, lon: 8.2, percent: 0.2 },
    { name: "Danemark Zeeland Saxon KPN011.A & KP008.A", lat: 55.7, lon: 12.6, percent: 2.4 },
    { name: "Russie (Oural) MS20", lat: 55.8, lon: 61.6, percent: 0.8 },
    { name: "Ukraine VK541", lat: 50.7, lon: 25.3, percent: 0.2 }
  ];

const allMarkers = [];

function updateMarkers(filter = 'all') {
  allMarkers.forEach(m => g25Map.removeLayer(m));
  allMarkers.length = 0;

  g25GeoData.forEach(region => {
    const { percent } = region;
    let include = false;

    if (filter === 'all') include = true;
    else if (filter === 'gt10' && percent > 10) include = true;
    else if (filter === 'btw5_10' && percent >= 5 && percent <= 10) include = true;
    else if (filter === 'lt5' && percent < 5) include = true;

    if (include) {
      const marker = L.circleMarker([region.lat, region.lon], {
        radius: 6 + region.percent / 2,
        color: '#2563eb',
        fillColor: '#3b82f6',
        fillOpacity: 0.5
      }).addTo(g25Map).bindPopup(`<strong>${region.name}</strong><br>${region.percent}%`);
      allMarkers.push(marker);
    }
  });
}

// Initial load
updateMarkers();
document.getElementById('g25Filter').addEventListener('change', function () {
  updateMarkers(this.value);
});

  </script>

</body>
</html>
